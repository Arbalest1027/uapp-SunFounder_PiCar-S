# Velocity Estimate using IMU
This is a work in progress and currently implemented in Python. The underlying algorithm will be later translated to uberObject friendly C code base. A shared library will be generated that can be used to estimate velocity. This python script works on MPU9250 but the same algorithm can be translated to any IMU that provides 3 axis accelerometer and 3 axis gyroscope measurements.

## Usage
- Copy the script in the /examples folder
- python3 estimate_velocity.py will execute the python script
- The script assumes the acceleromter and gyroscope and properly calibrated before hand. The calibration offsets can be found by keeping the IMU still for a set period of time and averging the values to get the bias for the sensor Ideally gyroscope should generate (0, 0, 0) and acceleroemter should generate (0, 0, -1) when stationary

## Dependencies
- The IMU interface library can be installed by: pip install mpu9250-jmdev, python -mpip install smbus2. When translated to C, low level I2C drivers can be used to setup and extract the sensor measurements from the bus. Register information can be found at: https://invensense.tdk.com/wp-content/uploads/2015/02/PS-MPU-9250A-01-v1.1.pdf
- The algorithm required matrix multiplications and inversion. We have used standard numpy library for these operations. To convert it to C, we will need to add these basic matrix operations to the uberSpark framework. 

## Limitations
- The error in velocity estimate is upto 1.0 m/s after a 15 second experiment. This is due to inaccurate yaw angle measurements and the noise generated by the accelerometer.
- Better estimates can be built by effectively using magnetometer from the IMU or introducing a new sensing dimension like rotary encoders.

### Detailed algorithm can be found in the report